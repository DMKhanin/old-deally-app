import React, { useState } from 'react';

import styles from './Input.module.scss';

const Input = ({ type, placeholder, name, useFormProps = () => { return {} }, value, onChange, defaultValue = '' }) => {
    const [currentType, setCurrentType] = useState(type);

    const _onChange = (e) => {
        if (typeof onChange === 'function') {
            onChange(e)
        }
    }
    
    return (
        <div className={`${styles['Input']}`}>
        <input 
            name={name}
            type={currentType} 
            value={value}
            onChange={(e) => _onChange(e)}
            defaultValue={defaultValue}
            placeholder={placeholder} 
            {...useFormProps}
            className={`${styles["Input-Field"]}`}
        />
        { type === "password" && <span className={styles['Input-Icon']} onClick={() => setCurrentType(currentType === "password" ? "text" : "password")}>
            {currentType === "password" && <svg width="23" height="23" viewBox="0 0 23 23" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M22.8538 11.0526C22.6483 10.7716 17.7526 4.17033 11.4999 4.17033C5.24715 4.17033 0.3512 10.7716 0.145951 11.0524C-0.0486505 11.319 -0.0486505 11.6807 0.145951 11.9474C0.3512 12.2284 5.24715 18.8297 11.4999 18.8297C17.7526 18.8297 22.6483 12.2284 22.8538 11.9476C23.0487 11.681 23.0487 11.319 22.8538 11.0526ZM11.4999 17.3132C6.89408 17.3132 2.90497 12.9318 1.7241 11.4995C2.90344 10.0659 6.8842 5.68681 11.4999 5.68681C16.1055 5.68681 20.0943 10.0674 21.2757 11.5005C20.0963 12.9341 16.1156 17.3132 11.4999 17.3132Z" fill="#697088"/>
                <path d="M11.4999 6.95055C8.99138 6.95055 6.95044 8.99149 6.95044 11.5C6.95044 14.0086 8.99138 16.0495 11.4999 16.0495C14.0084 16.0495 16.0494 14.0086 16.0494 11.5C16.0494 8.99149 14.0084 6.95055 11.4999 6.95055ZM11.4999 14.533C9.82747 14.533 8.46696 13.1724 8.46696 11.5C8.46696 9.82763 9.82751 8.46707 11.4999 8.46707C13.1723 8.46707 14.5329 9.82763 14.5329 11.5C14.5329 13.1724 13.1724 14.533 11.4999 14.533Z" fill="#697088"/>
            </svg> }
            { currentType === "text"  && 
            <svg width="23" height="23" viewBox="0 0 23 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M19.5979 7.26742C19.1437 6.82624 18.6831 6.42109 18.2184 6.05219L23 1.27057L21.7294 0L16.7259 5.00349C16.5197 4.87712 16.313 4.75772 16.1061 4.64631C14.588 3.82865 13.0534 3.41406 11.5449 3.41406C10.0373 3.41406 8.49872 3.82824 6.97192 4.6451C5.78351 5.28093 4.59888 6.16189 3.45094 7.26364C1.51818 9.11856 0.349447 10.9559 0.300842 11.0332L0 11.512L0.301516 11.9904C0.350121 12.0675 1.51899 13.8993 3.45193 15.7486C3.89751 16.1749 4.34866 16.5675 4.80332 16.9261L0 21.7294L1.27057 23L6.29814 17.9724C6.52279 18.1099 6.7478 18.2389 6.97295 18.3589C8.49949 19.1731 10.0377 19.5859 11.5449 19.5859C13.053 19.5859 14.5873 19.1727 16.1051 18.3578C17.2867 17.7233 18.4616 16.8442 19.5969 15.7448C21.5081 13.8941 22.661 12.0606 22.7087 11.9835L23 11.5119L22.7094 11.04C22.6617 10.9627 21.509 9.12372 19.5979 7.26742V7.26742ZM6.08503 15.6444C4.17827 14.181 2.75726 12.3595 2.14929 11.5097C3.24911 9.96327 7.0044 5.21094 11.5449 5.21094C12.9287 5.21094 14.2348 5.65571 15.4127 6.31678L13.9937 7.73577C13.2888 7.27568 12.4476 7.00781 11.5449 7.00781C9.06793 7.00781 7.05273 9.02301 7.05273 11.5C7.05273 12.4027 7.3206 13.2439 7.78069 13.9487L6.08503 15.6444ZM13.9619 10.3087C14.1397 10.6682 14.2402 11.0725 14.2402 11.5C14.2402 12.9862 13.0311 14.1953 11.5449 14.1953C11.1174 14.1953 10.7131 14.0948 10.3536 13.9169L13.9619 10.3087ZM9.09902 12.6304C8.93936 12.2864 8.84961 11.9036 8.84961 11.5C8.84961 10.0138 10.0587 8.80469 11.5449 8.80469C11.9485 8.80469 12.3313 8.89444 12.6753 9.05409L9.09902 12.6304ZM11.5449 17.7891C10.141 17.7891 8.81116 17.3335 7.61138 16.6592L9.04201 15.2286C9.75775 15.7105 10.619 15.9922 11.5449 15.9922C14.0219 15.9922 16.0371 13.977 16.0371 11.5C16.0371 10.5741 15.7554 9.71283 15.2735 8.99713L16.9372 7.33341C18.8465 8.8086 20.2653 10.6572 20.8631 11.5112C19.7885 13.0455 16.087 17.7891 11.5449 17.7891V17.7891Z" fill="#697088"/>
            </svg>            
            }
        </span>}
        </div>
    )
}

export default Input;